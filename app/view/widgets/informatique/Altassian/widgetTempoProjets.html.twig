{% extends "_template_widget.html.twig" %}

{% block title %}Widget Tempo{% endblock %}
{% block css %}{% endblock %}
{% block style %}{% endblock %}
{% block content %}

    <article class="slds-card slds-m-around_xx-small">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                <span class="slds-icon_container null slds-icon__svg--default">
                    <svg class="slds-icon slds-icon-text-default test-class" aria-hidden="true">
                        <use xlink:href="/app/public/assets/icons/utility-sprite/svg/symbols.svg#list"></use>
                    </svg>
                </span>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <span class="slds-card__header-link slds-truncate" title="Detail des zones">Temps journalier des projets Jira sur l'utilisateur : <br>{{ name }}</span>
                    </h2>
                </div>
                <div class="slds-no-flex">
                    <button class="slds-button slds-button_icon slds-button_icon-border-filled" id="bt-toogle">
                        <svg class="slds-button__icon" aria-hidden="true" id="icon-toogle">
                            <use xlink:href="/app/public/assets/icons/utility-sprite/svg/symbols.svg#chevronup"></use>
                        </svg>
                        <span class="slds-assistive-text">Open</span>
                    </button>
                </div>
            </header>
        </div>
        <div class="slds-card__body slds-card__body_inner" id="content-toogle">
            <div class="slds-clearfix">
                <div class = "slds-float_left">
                    <div class = "slds-p-bottom_medium">
                        <a class="slds-button slds-button_brand" href="/app/widgets/informatique/Altassian/tempo/users">Retour à la liste Utilisateur</a>
                    </div>
                </div>
            </div>
            <table id="users" class="display" style="width:100%">
                <thead>
                <tr>
                    <th></th>
                    <th>Nom Projet</th>
                    <th>Temps Planifié</th>
                    <th>Temps Réalisé</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th><a href="/app/widgets/informatique/Altassian/tempo/80/251/tickets"><button class="slds-button slds-button_icon slds-button_icon-border-filled" title="Aperçu"><svg class="slds-button__icon" aria-hidden="true"><use xlink:href="/app/public/assets/icons/utility-sprite/svg/symbols.svg#ad_set"></use></svg><span class="slds-assistive-text">Aperçu</span></button></a></th>
                    <th>API Atlassian</th>
                    <th>8 heures</th>
                    <th>5 heures</th>
                </tr>
                </tbody>
            </table>

        </div>
    </article>


{% endblock %}
{% block js %}{% endblock %}
{% block script %}

    <script>
        var bt_toogle = document.getElementById('bt-toogle');
        var content_toogle = document.getElementById('content-toogle');
        var icon_toogle = document.getElementById('icon-toogle');
        bt_toogle.onclick = function () {
            var result = content_toogle.classList.toggle('slds-is-collapsed');
            if (result) {
                icon_toogle.getElementsByTagName("use")[0].setAttribute('href', '/app/public/assets/icons/utility-sprite/svg/symbols.svg#chevrondown');
            } else {
                icon_toogle.getElementsByTagName("use")[0].setAttribute('href', '/app/public/assets/icons/utility-sprite/svg/symbols.svg#chevronup');
            }
        }


        let tableUser = $('#users').DataTable({
            language: {
                url: "/app/public/datatables/French.json",
            },
            "paging":   false,
            "ordering": false,
            "info":     false,
            "order": [[1, 'asc']]

        });





    </script>

{% endblock %}
